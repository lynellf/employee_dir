var users=[],cards=[],userDir=document.querySelector(".users"),overlay=document.querySelector("#overlay"),employeeDetails=document.querySelector("#employeeDetails");$.ajax({url:"https://randomuser.me/api/?results=12",dataType:"json",success:function(e){users=e.results,console.log(e);for(var t=0;t<users.length;t++){var a=document.createElement("div"),s=document.createElement("div"),n=document.createElement("h3"),l=document.createElement("span"),c=document.createElement("span"),r=new Image;s.className="card__info",n.className="card__name",l.className="card__email",c.className="card__city",r.className="card__avy",a.className="users__card",r.src=users[t].picture.large,n.textContent=users[t].name.first+" "+users[t].name.last,l.textContent=users[t].email,c.textContent=users[t].location.city,s.appendChild(n),s.appendChild(l),s.appendChild(c),a.appendChild(r),a.appendChild(s),userDir.appendChild(a)}cards=document.querySelectorAll(".users__card")}}),setTimeout(function(){for(var e=0;e<cards.length;e++)cards[e].addEventListener("click",function(e){var t=Array.prototype.slice.call(document.querySelectorAll(".users__card"));if("users__card"===e.currentTarget.className){var a=e.currentTarget,s=t.indexOf(a),n=(cards[s].getBoundingClientRect(),(window.pageYOffset/document.body.scrollHeight*100+10).toString()),l=cards[s].getBoundingClientRect(),c=document.createElement("div"),r=document.createElement("div"),o=document.createElement("span"),d=new Image,m=document.createElement("h3"),i=document.createElement("span"),u=document.createElement("span"),p=document.createElement("span"),_=document.createElement("span"),y=document.createElement("span");o.className="modal__close",c.className="modal__basic",m.className="modal__name",i.className="modal__email",u.className="modal__city",d.src=users[s].picture.large,d.className="modal__avy",r.className="modal__more",overlay.className="directory__overlay",o.textContent="x",m.textContent=users[s].name.first+" "+users[s].name.last,i.textContent=users[s].email,u.textContent=users[s].location.city,p.textContent=users[s].cell,_.textContent=users[s].location.street+users[s].location.city+", "+users[s].location.state+" "+users[s].location.postcode,y.textContent=users[s].dob,employeeDetails.className="modal",employeeDetails.style.top=n+"%",c.appendChild(o),c.appendChild(d),c.appendChild(m),c.appendChild(i),c.appendChild(u),r.appendChild(p),r.appendChild(_),r.appendChild(y),employeeDetails.appendChild(c),employeeDetails.appendChild(r),console.log(e),console.log(l),console.log(window.pageYOffset)}})},900);